type: custom:vertical-style-card
title: Allosaurus
style:
  font_size: 24px
  border: true
cards:
- type: vertical-stack
  cards:
  - type: horizontal-stack
    cards:
    - type: picture
      image: /local/divider.png
  - type: horizontal-stack
    cards:
    - type: "custom:button-card"
      color_type: icon
      show_name: false
      entity: sensor.power_allosaurus
      tap_action:
        action: call-service
        service: script.power_allosaurus_button
      state:
      - value: 'off'
        color: var(--icon-off-color)
        icon: mdi:alpha-a-circle-outline
      - value: 'on'
        color: var(--icon-color-amber)
        icon: mdi:alpha-a-circle
    - type: "custom:button-card"
      color_type: icon
      show_name: false
      entity: sensor.power_allosaurus
      tap_action:
        action: call-service
        service: script.power_allosaurus_button
      state:
      - value: 'off'
        color: var(--icon-off-color)
        icon: mdi:electric-switch
      - value: 'on'
        color: var(--icon-color-amber)
        icon: mdi:state-machine
    - type: "custom:button-card"
      color_type: icon
      show_name: false
      entity: sensor.power_allosaurus
      tap_action:
        action: call-service
        service: script.iotlink_allosaurus_refresh
      state:
      - value: 'off'
        color: var(--icon-off-color)
        icon: mdi:database-refresh
      - value: 'on'
        color: var(--icon-color-amber)
        icon: mdi:database-refresh
    - type: "custom:button-card"
      color_type: icon
      show_name: false
      entity: sensor.allosaurus_current_username
      tap_action:
        action: call-service
        service: script.iotlink_allosaurus_lock
      state:
      - value: 'Laurens'
        color: var(--icon-color-green)
        icon: mdi:lock-open
      - value: 'SYSTEM'
        color: var(--icon-color-red)
        icon: mdi:lock
      - value: 'unknown'
        color: var(--icon-color-red)
        icon: mdi:lock
      - value: 'off'
        color: var(--icon-off-color)
        icon: mdi:lock
    - type: "custom:button-card"
      color_type: icon
      show_name: false
      entity: sensor.power_allosaurus
      tap_action:
        action: call-service
        service: script.iotlink_allosaurus_reboot
      state:
      - value: 'off'
        color: var(--icon-off-color)
        icon: mdi:restart
      - value: 'on'
        color: var(--icon-color-amber)
        icon: mdi:restart
  - type: horizontal-stack
    cards:
    - type: picture
      image: /local/divider.png
  - type: custom:state-switch
    entity: sensor.power_allosaurus
    states:
      "on":
        type: vertical-stack
        cards:
        - type: horizontal-stack
          cards:
          - type: "custom:bignumber-card"
            title: Disksize
            scale: 15px
            entity: sensor.allosaurus_storage_c_total_storage
          - type: "custom:bignumber-card"
            title: Disk Used %
            scale: 15px
            entity: sensor.allosaurus_storage_c_usage
          - type: "custom:bignumber-card"
            title: Uptime
            scale: 15px
            entity: sensor.allosaurus_ontime
        - type: horizontal-stack
          cards:
          - type: picture
            image: /local/divider.png
  - type: custom:state-switch
    entity: sensor.power_allosaurus
    states:
      "on":
        type: vertical-stack
        cards:
        - type: horizontal-stack
          cards:
          - type: custom:mini-graph-card-squished
            entities:
            - sensor.allosaurus_cpu_usage
            name: CPU
            font_size: 60
            show:
              name: true
              icon: true
              state: true
            line_color: 
            - var(--icon-color-red)
            hours_to_show: 4
            points_per_hour: 60
            hour24: true
          - type: custom:mini-graph-card-squished
            entities:
            - sensor.allosaurus_memory_usage
            name: RAM
            font_size: 60
            show:
              name: true
              icon: true
              state: true
            line_color: 
            - var(--icon-color-green)
            hours_to_show: 4
            points_per_hour: 60
            hour24: true
          - type: custom:mini-graph-card-squished
            entities:
            - sensor.allosaurus_storage_c_usage
            name: Space
            font_size: 60
            show:
              name: true
              icon: true
              state: true
            line_color: 
            - var(--icon-color-blue)
            hours_to_show: 4
            points_per_hour: 60
            hour24: true
        - type: horizontal-stack
          cards:
          - type: picture
            image: /local/divider.png